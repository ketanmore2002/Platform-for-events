
{% extends 'base.html' %}
{% load static %}



{% block content %}


  <!-- <div class="fixed w-100 h-100 bg-indigo-200 rounded-circle " style="width: 400px; height: 400px; border-radius: 50%; top: -150px; left: -150px; z-index: -1;">

  </div>

  <div class="fixed w-100 h-100 bg-purple-400 rounded-circle " style="width: 400px; height: 400px; border-radius: 50%; top: -200px; right: -250px; z-index: -2;">

  </div>

  <div class="fixed w-100 h-100 bg-green-300 rounded-circle " style="width: 100px; height: 100px; border-radius: 50%; top: 50px; left: 400px; z-index: -2;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 300px; left: 100px; z-index: -2; background-color: #f69a70;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 500px; left: 500px; z-index: -2; background-color: #47eeb6;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 300px; right: 100px; z-index: -2; background-color: #0583d2;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 100px; right: 300px; z-index: -2; background-color: #e96cbb;">

  </div> -->

  <!-- <div class="fixed w-100 h-100 rounded-circle animate-bounce" style="width: 150px; height: 150px; border-radius: 50%; top: 300px; left: 100px; z-index: -2; background-color: #f69a70;">

  </div> -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
      body{
        font-family: 'Poppins', sans-serif;
      }
    </style>
    
    <div id="events_container" class="fluid-container relative" style="margin-top: 120px">

        <h2 class="text-6xl text-center mt-10 mb-5 font-bold text-indigo-700 ">Your Events</h2>

        <!-- <div class="container mx-auto max-w-6xl p-5 mb-5 sm:mb-0 text-center md:text-left">
          <div class="block px-5 py-10 sm:p-2">
            <div class="text-center md:text-left">
                <img width="400px" height="400px" class=" mx-auto rounded-circle w-75 h-75" src="https://img.freepik.com/free-vector/time-management-concept-illustration_114360-1013.jpg?w=1060&t=st=1664466102~exp=1664466702~hmac=e46fc14c338f368c7d970d2fb8c4e280893c69ba6468a04cc9a76330df5d418f" alt="Event Organization">
            </div>
            <div class="text-center px-1 sm:px-5">
                <h3 class="text-2xl sm:text-3xl lg:text-4xl mb-2">No events found.</h3>
                <p class="text-gray-500 mb-5 w-1/2 mx-auto">Register your events quickly and easily here for participants to take part.</p>
                <button id="create_event_btn" class="text-blue-600 border border-2 border-blue-600 py-2 px-4 focus:outline-none hover:bg-blue-700 hover:text-white rounded text-lg">Create Event</button>
            </div>
          </div>
        </div> -->

        {% if events %}

        <div class="container mx-auto max-w-6xl p-5 mb-2 sm:mb-0 text-center md:text-right">
          <button id="create_event_btn" class="text-blue-600 border border-2 border-blue-600 py-2 px-4 focus:outline-none hover:bg-blue-700 hover:text-white rounded text-lg">Create Event</button>
        </div>

        <div class="container mx-auto max-w-6xl mt-2 mb-20 grid gap-10 grid-cols-1 lg:grid-cols-2 grid-rows-3 px-5">

          {% for event in events %}
            <div class=" w-full max-w-2/3 mx-auto sm:w-full sm:max-w-3xl flex justify-center transition-none lg:transition lg:ease-in-out lg:hover:-translate-y-1 lg:hover:scale-110 duration-300 ...">
                <div class="flex flex-col-reverse sm:flex-row  rounded-lg bg-white border border-2 shadow-xl py-2">
                  
                  <div class="p-4 pt-0 sm:p-6 flex flex-col justify-start">
                    <h5 class="text-gray-900 text-2xl font-medium mb-2 flex items-top gap-3">
                        {% comment %} <img width="30px" height="30px" src="https://cdn-icons-png.flaticon.com/512/1356/1356607.png" alt="Event"> {% endcomment %}
                        {{ event.event_name }}
                    </h5>
                    <p class="text-gray-700 text-base mb-4">
                      {{ event.discription | slice:":130" }}.....
                    </p>
                    <a href="/adminpanel/{{ event.pk }}/ " class="w-fit flex items-center gap-2 text-white bg-indigo-500 border-0 py-2 px-5 focus:outline-none hover:bg-indigo-600 rounded">
                        Check Out
                    </a>
                  </div>
                  <img class="w-4/5 mx-auto sm:w-48 sm:h-48 object-cover rounded-t-lg md:rounded-none md:rounded-l-lg" src="https://img.freepik.com/free-vector/devops-team-abstract-concept-vector-illustration-software-development-team-member-agile-workflow-devops-team-model-it-teamwork-project-management-integrated-practice-abstract-metaphor_335657-2299.jpg?w=740&t=st=1664186562~exp=1664187162~hmac=fd4732771fc49a1c765ea50586dbc4ca17f532ee4e9c9057ea001b7a8ae7d82b" alt="" />
                </div>
            </div>
          {% endfor %}
        </div>

        {% else %}

        <section class="text-gray-600 body-font">
          <div class="container mx-auto flex px-5 py-24 items-center justify-center flex-col">
            <img class="w-32 mb-10 object-cover object-center rounded" alt="hero" src="https://cdn-icons-png.flaticon.com/512/5656/5656111.png">
            <div class="text-center lg:w-2/3 w-full">
              <h1 class="title-font sm:text-2xl text-xl font-medium text-gray-900">No Events founds</h1>
              <div class="container mx-auto max-w-6xl p-5 mb-2 sm:mb-0 text-center md:text-center">
                <button id="create_event_btn" class="text-blue-600 border border-2 border-blue-600 py-2 px-4 focus:outline-none hover:bg-blue-700 hover:text-white rounded text-lg">Create Event</button>
              </div>
            </div>
          </div>
        </section>

        {% endif %}
    </div>





    <form class="hidden w-full h-fit" id="create_event_form" method="post" action="{% url 'add_event' %}" style="margin-top: 120px">
      {% csrf_token %}
      <div class="relative fluid-container w-full h-full py-5" >
        
        <div class="container mx-auto max-w-5xl border-b-2 border-purple-500 px-3 py-3 mb-5 flex items-center justify-between bg-[#ffffffe2] rounded-t">
          <button id="closeCreateEventForm" type="button" class="bg-white border-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
            </svg>
          </button>
          <h2 class="text-4xl text-purple-500 font-bold"> Register your Event</h2>
          <!-- <button class="hidden sm:block w-fit flex items-center gap-2 text-purple-600 border-2 border-purple-600 py-2 px-5 focus:outline-none hover:bg-purple-500 hover:text-white rounded">Register</button> -->
        </div>
        <div class="container mx-auto max-w-5xl px-5 py-3 bg-[#ffffffe2]">
          <div class="w-full">

            <input type="hidden" name="host_user_name" id="host_user_name" value="{{ request.user.username }}">
            <input type="hidden" name="host_user_id" id="host_user_id" value="{{ request.user.id }}">

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="host_name">
                  Event Host Name
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="host_name" name="host_name" type="text" placeholder="Host Name">
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="host_email">
                  Host Email
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="host_email" name="host_email" type="text" placeholder="Host Email">
              </div>
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="host_phone">
                  Host Phone Number
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="host_phone" name="host_phone" type="tel" placeholder="Host Phone Number">
              </div>
            </div>


            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="event_name">
                  Name of Event
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="event_name" name="event_name" type="text" placeholder="Give Event Name">
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="discription">
                  Event Description (Maximum 30 words)
                </label>
                <textarea class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" name="discription" id="discription" cols="30" rows="5" style="resize: none;" placeholder="Give event description"></textarea>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="event_fee">
                  Participation Fee (in Rs.)
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="event_fee" name="event_fee" type="text" placeholder="Ex. 200">
              </div>
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="event_date">
                  Event Date and Time
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="event_date" name="event_date"  placeholder="Ex. 12-09-2022 12:30 PM" onfocus="this.type = 'datetime-local'">
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="event_venue">
                  Event Venue
                </label>
                <textarea class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" name="event_venue" id="event_venue" cols="30" rows="5" style="resize: none;" placeholder="Event Venue"></textarea>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-1">
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="first_prize">
                  First Place Winner Prize
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="first_prize" name="first_prize" type="text" placeholder="Give amount in Rs.">
              </div>
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="second_prize">
                  Second Place Winner Prize
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="second_prize" name="second_prize" type="tel" placeholder="Give amount in Rs.">
              </div>
              <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="third_prize">
                  Third Place Winner Prize
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="third_prize" name="third_prize" type="tel" placeholder="Give amount in Rs.">
              </div>
            </div>
            <small class="w-full block mb-10">(Note: Keep the fields empty if there is no Prize)</small>

            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="opening_event_date">
                  Registration Opening Date
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="opening_event_date" name="opening_event_date" type="date">
              </div>
              <div class="w-full md:w-1/2 px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="closing_event_date">
                  Registration Closing Date
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="closing_event_date" name="closing_event_date" type="date">
              </div>
            </div>

            <h3 class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Event Type</h3>
            <ul class="grid gap-6 w-full md:grid-cols-2 mb-10">
              <li>
                <input type="radio" id="event_type_1" name="type_of_event" value="Individual" class="hidden peer">
                <label for="event_type_1" class="inline-flex justify-between items-center p-3 w-full text-gray-500 bg-gray-100 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-blue-600 peer-checked:border-2 peer-checked:text-blue-600 peer-checked:bg-blue-100 hover:text-gray-600 hover:bg-blue-100 ">                           
                    <div class="block">
                        <div class="w-full text-lg font-semibold">Individual</div>
                    </div>
                </label>
              </li>
              <li>
                <input type="radio" id="event_type_2" name="type_of_event" value="Team" class="hidden peer">
                <label for="event_type_2" class="inline-flex justify-between items-center p-3 w-full text-gray-500 bg-gray-100 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-blue-600 peer-checked:border-2 peer-checked:text-blue-600 peer-checked:bg-blue-100 hover:text-gray-600 hover:bg-blue-100 ">
                    <div class="block">
                        <div class="w-full text-lg font-semibold">Team</div>
                    </div>
                    
                </label>
              </li>
            </ul>

            <div id="member_choose" class="hidden flex items-end justify-between -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="number_of_members_allowed">
                  Maximum Number of Participants
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="number_of_members_allowed" name="number_of_members_allowed" type="number" placeholder="Number of Participants" value=1>
              </div>
              <!-- <div class="w-72 px-3">
                <button class="w-fit flex items-center gap-2 text-white bg-indigo-500 border-0 py-3 px-4 focus:outline-none hover:bg-indigo-600 rounded">
                  Add Team Member
                </button>
              </div> -->
            </div>


            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="poster_url">
                  Event Poster URL
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="poster_url" name="poster_url" type="text" placeholder="Poster URL">
                <smaill class="text-gray-400">(Note: Upload your poster to your Google Drive and then attach the url here)</small>
              </div>
            </div>



            <div class="flex flex-wrap -mx-3 mb-6">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="rules">
                  Rules and Regulations
                </label>
                <textarea class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" name="rules" id="rules" cols="30" rows="20" style="resize: none;" placeholder="Rules and regulations regarding event"></textarea>
              </div>
            </div>
          </div>

        </div>
        <div class="container mx-auto max-w-5xl mb-5 border-t-2 border-purple-500 px-3 py-3 flex items-center gap-3 bg-[#ffffffe2] rounded-b">
          <button type="submit" class="w-fit flex items-center gap-2 text-purple-600 border-2 border-purple-600 py-2 px-5 focus:outline-none hover:bg-purple-500 hover:text-white rounded">Register</button>
          <!-- <button class="w-fit flex items-center gap-2 text-red-600 border-2 border-red-600 py-2 px-5 focus:outline-none hover:bg-red-500 hover:text-white rounded">Clear</button> -->
        </div>

      </div>
    </form>


    <script>
      document.getElementById("create_event_btn").addEventListener("click", ()=>{
          document.getElementById("create_event_form").classList.remove("hidden");
          document.getElementById("events_container").classList.add("hidden");
      })

      document.getElementById("closeCreateEventForm").addEventListener("click", ()=>{
          document.getElementById("create_event_form").classList.add("hidden");
          document.getElementById("events_container").classList.remove("hidden");
      })

      if(document.getElementById("event_type_2").checked){
        document.getElementById("member_choose").classList.toggle("hidden");
      }
      document.getElementById("event_type_2").addEventListener("change", ()=>{
          document.getElementById("member_choose").classList.toggle("hidden");
      })
      document.getElementById("event_type_1").addEventListener("change", ()=>{
          document.getElementById("member_choose").classList.add("hidden");
      })
  </script>

{% endblock content %}

