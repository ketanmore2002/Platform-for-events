
{% extends 'base.html' %}
{% load static %}



{% block content %}

    <title>Document</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>


</head>
<body>


  <!-- <div class="fixed w-100 h-100 bg-indigo-200 rounded-circle " style="width: 400px; height: 400px; border-radius: 50%; top: -150px; left: -150px; z-index: -1;">

  </div>

  <div class="fixed w-100 h-100 bg-purple-400 rounded-circle " style="width: 400px; height: 400px; border-radius: 50%; top: -200px; right: -250px; z-index: -2;">

  </div>

  <div class="fixed w-100 h-100 bg-green-300 rounded-circle " style="width: 100px; height: 100px; border-radius: 50%; top: 50px; left: 400px; z-index: -2;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 300px; left: 100px; z-index: -2; background-color: #f69a70;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 500px; left: 500px; z-index: -2; background-color: #47eeb6;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 300px; right: 100px; z-index: -2; background-color: #0583d2;">

  </div>

  <div class="fixed w-100 h-100 rounded-circle " style="width: 150px; height: 150px; border-radius: 50%; top: 100px; right: 300px; z-index: -2; background-color: #e96cbb;">

  </div> -->

  <!-- <div class="fixed w-100 h-100 rounded-circle animate-bounce" style="width: 150px; height: 150px; border-radius: 50%; top: 300px; left: 100px; z-index: -2; background-color: #f69a70;">

  </div> -->
    {% if event.type_of_event == "Team" %} 

    <form action="{% url 'add_team' %}" method="post" style="margin-top: 120px">
      {% csrf_token %}
      <div class="relative fluid-container w-full h-full grid place-content-center py-5" >
        
        <div class="container mx-auto max-w-5xl border-b-2 border-purple-500 px-3 py-3 flex items-center justify-between bg-[#ffffffe2] rounded-t">
          <h2 class="text-4xl text-purple-500 font-bold"> Register for {{ event.event_name }}  Event</h2>
          {% comment %} <button type="submit" class="hidden sm:block w-fit flex items-center gap-2 text-purple-600 border-2 border-purple-600 py-2 px-5 focus:outline-none hover:bg-purple-500 hover:text-white rounded">Submit</button> {% endcomment %}
        </div>

        <div class="container mx-auto max-w-5xl px-5 py-10 bg-[#ffffffe2]">
          <div class="w-full">

            <input type="hidden" name="leader_user_name" id="player_user_name" value="{{ request.user.username }}">
            <input type="hidden" name="leader_user_id" id="player_user_id" value="{{ request.user.id }}">
            <input type="hidden" name="event_id" id="event_id" value="{{ event.pk }}">

            {% comment %} <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3">
                <label for="event_participated" class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2">Selected event</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="event_participated" name="event_participated" type="text" value="{{ event.type_of_event }}" disabled>
              </div>
            </div> {% endcomment %}


            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="team_name">Team Name</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" name="team_name" id="team_name" placeholder="Team Name" required>
              </div>
            </div>


            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="leader_name">Team Leader Name</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" name="leader_name" id="leader_name" placeholder="Team Leader Name" required>
              </div>
            </div>
            

            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="leader_email">
                  Email
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="leader_email" name="leader_email" type="email" placeholder="Email" required>
              </div>
              <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="leader_phone_number">
                  Phone Number
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="leader_phone_number" name="leader_phone_number" type="tel" placeholder="Phone Number" required>
              </div>
              
              
              <small class="px-3 mt-1 text-gray-400">(Note: Give the email and phone of Team-Leader for team events) </small>
            </div>



            <h3 class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2">Participating as</h3>
            <ul class="grid gap-6 w-full md:grid-cols-2 mb-10">
                <li>
                    <input type="radio" id="event_type_1" name="event_type" value="Individual" class="hidden peer">
                    <label for="event_type_1" class="inline-flex justify-between items-center p-3 w-full text-gray-500 bg-gray-100 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-blue-600 peer-checked:border-2 peer-checked:text-blue-600 peer-checked:bg-blue-100 hover:text-gray-600 hover:bg-blue-100 ">                           
                        <div class="block">
                            <div class="w-full text-lg font-semibold">Individual</div>
                        </div>
                    </label>
                </li>
                <li>
                    <input type="radio" id="event_type_2" name="event_type" value="hosting-big" class="hidden peer">
                    <label for="event_type_2" class="inline-flex justify-between items-center p-3 w-full text-gray-500 bg-gray-100 rounded-lg border border-gray-200 cursor-pointer peer-checked:border-blue-600 peer-checked:border-2 peer-checked:text-blue-600 peer-checked:bg-blue-100 hover:text-gray-600 hover:bg-blue-100 ">
                        <div class="block">
                            <div class="w-full text-lg font-semibold">Team</div>
                        </div>
                        
                    </label>
                </li>
            </ul>


            <div id="member_choose" class="hidden w-full flex items-end justify-between">
              <div class="w-full">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="number_of_members">
                  No. of Team Members (Including Team Leader)
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="number_of_members" name="number_of_members" type="number" min="1" max="{{ event.number_of_members_allowed }}" placeholder="Number of Participants">
              </div>
              <div class="w-48 flex justify-end">
                <button type="button" id="add_member_button" class="w-fit flex items-center gap-2 text-white text-sm bg-indigo-500 border-0 py-3 px-4 focus:outline-none hover:bg-indigo-600 rounded">
                  Add Members
                </button>
              </div>
            </div>
            <small class="hidden px-3 mt-1 text-red-400" id="membersWarning">(Note: Team members cannot be more than {{ event.number_of_members_allowed }} ) </small>

            <div id="add_member_container" class="hidden grid grid-cols-1 gap-y-4 -mx-3 mt-6 mb-6 px-3 py-8 rounded-xl border border-2 ">
              <small>(Note: Include the name of your team leader also)</small>
              <div id="add_member">

              </div>
              <div class="px-3">
                <small>(Note: Please save the members names before submitting form)</small>
                <button type="button" class=" w-fit flex items-center gap-2 text-purple-600 border-2 border-purple-600 py-2 px-5 mt-2 focus:outline-none hover:bg-purple-500 hover:text-white rounded" onclick="makeName()">Save</button>
              </div>
            </div>

              
            <input class="appearance-none block w-full text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="name_of_members" name="name_of_members" type="hidden" placeholder="Team Member Name">

            <div class="flex flex-wrap -mx-3 mt-5 mb-10">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="college_name">College Name</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" name="college_name" id="college_name" placeholder="Team Leader Name" required>
              </div>
            </div>


          </div>

        </div>
        <div class="mb-5 border-t-2 border-purple-500 px-3 py-3 flex items-center gap-3 bg-[#ffffffe2] rounded-b">
          <button type="submit" class="w-fit flex items-center gap-2 text-purple-600 text-lg border-2 border-purple-600 py-2 px-5 focus:outline-none hover:bg-purple-500 hover:text-white rounded">Pay Registration Fee Rs. {{ event.event_fee }}</button>
        </div>

      </div>
    </form>



    {% else %}




    <form action="{% url 'add_participant' %}" method="post" style="margin-top: 120px">
      {% csrf_token %}
      <div class="relative fluid-container w-full py-5 max-w-5xl mx-auto" >
        
        <div class="container mx-auto max-w-6xl border-b-2 border-purple-500 px-3 py-3 flex items-center justify-between bg-[#ffffffe2] rounded-t">
          {% comment %} <h2 class="text-4xl text-purple-500 font-bold"> Register for Individual Event</h2> {% endcomment %}
          <h2 class="text-4xl text-purple-500 font-bold"> Register for {{ event.event_name }}  Event</h2>
        </div>
  
        <div class="container mx-auto max-w-6xl px-5 py-10 bg-[#ffffffe2]">
          <form class="w-full">

            <input type="hidden" name="player_user_name" id="player_user_name" value="{{ request.user.username }}">
            <input type="hidden" name="player_user_id" id="player_user_id" value="{{ request.user.id }}">
            <input type="hidden" name="event_id" id="event_id" value="{{ event.pk }}">

  
  
            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="player_name">Participant Name</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" name="player_name" id="player_name" placeholder="Participant Name" required>
              </div>
            </div>
  
            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="player_email">
                  Email
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="player_email" name="player_email" type="text" placeholder="Email" required>
              </div>
              
              <!-- <small class="px-3 mt-1 text-gray-400">(Note: Give the email and phone of Team-Leader for team events) </small> -->
            </div>

            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3 mb-6 md:mb-0">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="player_phone_number">
                  Phone Number
                </label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="player_phone_number" name="player_phone_number" type="text" placeholder="Phone Number" required>
              </div>
            </div>

            <div class="flex flex-wrap -mx-3 mb-10">
              <div class="w-full px-3">
                <label class="block uppercase tracking-wide text-gray-700 text-sm font-bold mb-2" for="college_name">College Name</label>
                <input class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" type="text" name="college_name" id="college_name" placeholder="Team Leader Name" required>
              </div>
            </div>
  
          </form>
  
        </div>
        <div class="mb-5 border-t-2 border-purple-500 px-3 py-3 flex items-center gap-3 bg-[#ffffffe2] rounded-b">
          <button type="submit" class="w-fit flex items-center gap-2 text-purple-600 text-lg border-2 border-purple-600 py-2 px-5 focus:outline-none hover:bg-purple-500 hover:text-white rounded">Pay Registration Fee Rs. {{ event.event_fee }}</button>
        </div>
  
      </div>
    </form>


    {% endif %} 


    <script src="{% static 'index.js' %}"></script>

    {% endblock content %}
